<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
  </head>
  <style>
    body {
      height: 2000px;
    }
    input {
      box-sizing: border-box;
      width: 200px;
      height: 30px;
      background-color: antiquewhite;
      border: 1px solid skyblue;
      padding: 10px;
    }
    input:focus {
      color: blue;
      outline: none;
    }
  </style>

  <body>
    <input type="text" />
    <script>
      let input = document.querySelector("input");
      input.oninput = deBancle(() => {
        console.log("input-触发ing");
      }, 1000);
      //防抖
      //减少触发频率,只执行最后一次
      function deBancle(fn, dealy) {
        let timer = null;
        return function () {
          if (timer !== null) {
            clearTimeout(timer);
          }
          timer = setTimeout(() => {
            fn();
          }, dealy);
        };
      }
      //节流
      // 减少触发次数,由几次变为一次
      window.onscroll = cutDown(() => {
        console.log("onscroll-触发ing");
      });
      function cutDown(fn, dealy = 1000) {
        let flag = true;
        return function () {
          if (flag == true) {
            setTimeout(() => {
              fn();
              flag = true;
            }, dealy);
          }
          flag = false;
        };
      }
      let a = true;
      // console.log(Object.prototype.toString.call(a));
    </script>
  </body>
</html>
